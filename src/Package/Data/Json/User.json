{
  "User" : {
    "options": "{{options()}}",
    "class": "{{$this.options.class}}",
    "trait": "{{$this.options.trait}}",
    "use" : [
      "R3m\\Io\\App",
      "R3m\\Io\\Module\\Response",
      "R3m\\Io\\Module\\Controller",
      "Exception",
      "R3m\\Io\\Exception\\LocateException",
      "R3m\\Io\\Exception\\UrlEmptyException",
      "R3m\\Io\\Exception\\UrlNotExistException"
    ],
    "extends" : "Controller",
    "implements": [],
    "variable": {
      "private": [],
      "protected": [],
      "public": []
    },
    "constant": {
      "DIR" : "__DIR__ . DIRECTORY_SEPARATOR",
      "NAME" : "\"{{$this.#parentNode.options.class}}\"}}",
      "COMMAND_TOKEN" : "'token'",
      "COMMAND_INFO" : "'info'",
      "COMMAND" : [
        "{{$this.#parentNode.options.class}}::COMMAND_INFO",
        "{{$this.#parentNode.options.class}}::COMMAND_TOKEN"
      ],
      "DEFAULT_COMMAND" : "{{$this.#parentNode.options.class}}::COMMAND_INFO",
      "EXCEPTION_COMMAND_PARAMETER" : "\"{{literal}}{{$command}}{{/literal}}\"",
      "EXCEPTION_COMMAND" : "'invalid command (' . User::EXCEPTION_COMMAND_PARAMETER . ')' . PHP_EOL"
    },
    "trait_use": [
      "Package\\R3m\\Io\\Account\\Trait\\User",
      "Package\\R3m\\Io\\Account\\Trait\\App"
    ],
    "function": [
      {
        "name": "__construct",
        "type" : "public",
        "static": false,
        "argument": [
          {
            "name": "object",
            "type" : "App"
          }
        ],
        "attribute": [],
        "return_type": [
          "void"
        ],
        "body": [
          "$this->object($object);"
        ]
      },
      {
        "name": "info",
        "type" : "private",
        "static": false,
        "argument": [],
        "attribute": [],
        "return_type": [
          "mixed"
        ],
        "throw": [
            "Exception",
            "LocateException",
            "UrlEmptyException",
            "UrlNotExistException"
        ],
        "body": [
          "$object = $this->object();",
          "$name = {{$this.#parentNode.class}}::name(__FUNCTION__, __CLASS__, '/');",
          "$url = {{$this.#parentNode.class}}::locate($object, $name);",
          "return {{$this.#parentNode.class}}::response($object, $url);"
        ]
      },
      {
        "name": "user_token",
        "type" : "public",
        "static": false,
        "argument": [
          {
            "name": "object",
            "type" : "App"
          }
        ],
        "attribute": [],
        "return_type": [
          "mixed"
        ],
        "throw": [
          "Exception"
        ],
        "body": [
          "if(Handler::method() === Handler::METHOD_CLI){",
          "    $email = $object->parameter($object, __FUNCTION__, 1);",
          "    $data = [];",
          "    $data[] = Cli::tput('color', Cli::COLOR_GREEN);",
          "    $data[] = Service::token($object, $email);",
          "    $data[] = Cli::tput('reset');",
          "    return new Response(",
          "        $data,",
          "        Response::TYPE_CLI",
          "    );",
          "}"
        ]
      },
      {
        "name": "user_login",
        "type" : "public",
        "static": false,
        "argument": [
          {
            "name": "object",
            "type" : "App"
          }
        ],
        "attribute": [],
        "return_type": [
          "mixed"
        ],
        "throw": [
          "Exception",
          "Doctrine\\ORM\\Exception\\ORMException"
        ],
        "body": [
          "if (Handler::method() === 'POST') {",
          "    $data = Service::login($object);",
          "    return new Response(",
          "         $data,",
          "         Response::TYPE_JSON",
          "    );",
          "}"
        ]
      }
    ],
    "user": {
      "use": [],
      "trait_use": [],
      "variable": {
        "private": [],
        "protected": [],
        "public": []
      },
      "constant": {},
      "function": []
    }
  }
}